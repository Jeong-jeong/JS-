<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	<script>
		// 경로 탐색 (인접행렬)
		function solution(n, m, arr) {
			// 모든 경로의 가지수 출력
			// 방향 그래프
			const graph = Array.from(Array(n + 1), () => Array(n + 1));
			const check = Array.from({length: n + 1}, () => 0);
			let answer = 0;
			let start = 1;
			
			arr.forEach( v => {
				graph[v[0]][v[1]] = 1;
			});

			const DFS = (L) => {
				if (L === n) {
					answer++;
				}
				else {
					for (let i = start; i <= n; i++) {
						if (check[i] === 0 && graph[L][i] === 1) {
							check[i] = 1;
							DFS(i);
							check[i] = 0;
						}
					}
				}
			}
			check[1] = 1;
			DFS(start)
			return answer;
			
	}

		const n = 5;
		const m = 9;
		const arr = [[1, 2], [1, 3], [1, 4], [2, 1], [2, 3], [2, 5], [3, 4], [4, 2], [4, 5]];
		console.log(solution(n, m, arr));
		
			
	
	</script>
</body>
</html>