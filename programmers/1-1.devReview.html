<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	<script>
		// 경로 탐색 (인접리스트)
		function solution(n, m, arr) {
			// 모든 경로의 가지수 출력
			// 방향 그래프
			const graph = Array.from(Array(n + 1), () => Array());
			let check = Array.from({length: n + 1}, () => 0);
			let answer = 0;

			for (let [a, b] of arr) { // 인접리스트 생성
				graph[a].push(b);
			}
			let temp = [1];

			const DFS = (L) => {
				if (L === n) {
					console.log(temp)
					answer++;
				}
				else {
					for (let i = 0; i < graph[L].length; i++) {

						if (check[graph[L][i]] === 0) {

							check[graph[L][i]] = 1;
							temp.push(graph[L][i]);
							DFS(graph[L][i]);
							
							check[graph[L][i]] = 0;
							temp.pop();
						}
					}
				}
			}

			check[1] = 1;
			DFS(1)
			return answer;
			
	}

		const n = 5;
		const m = 9;
		const arr = [[1, 2], [1, 3], [1, 4], [2, 1], [2, 3], [2, 5], [3, 4], [4, 2], [4, 5]];
		console.log(solution(n, m, arr));
		
			
	
	</script>
</body>
</html>