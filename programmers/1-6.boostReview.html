<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	<script>
		// 실패율 sort 내장함수 사용 (테스트 22: 1387ms 소요)
		function solution(N, stages) {
    
			let result = []; // 정렬을 위해 배열 자료구조 사용
			let clear = stages.length;
			
			for (let stage = 0; stage < N; stage++) {
					let notClear = stages.filter(v => v === stage + 1).length;
					let failure = notClear / clear;
					clear -= notClear;
					
					result.push([stage + 1, failure]);
			}
			console.log(result)
			
			return descendingOrder(result).map(stage => {return stage[0]}); // stage만 모아 배열로 리턴
					
	}
	
	const descendingOrder = (arr) => { // 내림차순 정렬 함수
			const n = arr.length;
			arr.sort((a, b) => {
					return b[1] - a[1];
					if (b[1] === a[1]) return a[0] - b[0];
			})
			
			return arr;
	}
	</script>
</body>
</html>